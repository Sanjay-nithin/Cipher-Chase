{% extends 'level_2/level2base.html' %} 

{% block timer %}
let timeLeft = sessionStorage.getItem("timeLeft") ? parseInt(sessionStorage.getItem("timeLeft")) : 900;
{% endblock %}

{% block content %}
<div
  class="w-full lg:w-1/3 bg-gray-800 p-6 rounded-xl shadow-xl border border-gray-700"
>
  <h1 class="text-3xl font-bold text-cyan-400">CHALLENGE-2</h1>
  <h2 class="text-xl font-semibold mt-2 text-gray-200">The Path of Reflection</h2>
  <p class="mt-4 text-gray-300">
    A word read the same forward and backward shall reveal the safe path."
  </p>
  <p class="mt-2 text-gray-300">
    Write a function to check if a given word is a palindrome.
  </p>
  <h3 class="text-lg font-semibold mt-4 text-yellow-400">TEST CASE:</h3>
  <p id="input" class="bg-gray-700 text-gray-200 p-2 rounded mt-2">
    INPUT: malayalam
  </p>
  <p>OUTPUT: True</p>
</div>
{% endblock %}

{% block data %}
const data = {
    language: language,
    version: selectedLanguage === "python" ? "3.12.0" : 
             selectedLanguage === "java" ? "15.0.2" : 
             selectedLanguage === "c" ? "10.2.0" : 
             selectedLanguage === "c++" ? "10.2.0." : "latest",  

    files: [{
        name: selectedLanguage === "java" ? "Main.java" :
             selectedLanguage === "c" ? "main.c" :
             selectedLanguage === "c++" ? "main.cpp" : "main.py",
        content: code
    }],
    "stdin": "mada"
};
{% endblock %}

{% block result_check %}
    let ans = result.run.stdout || result.run.stderr || "No output";
    const code = editor.getValue();
    if (ans.trim() === "False" || ans.trim() == 'false') {
        document.getElementById("output").textContent = "----. (Note this morse code for further use)";
    }
    else {
        document.getElementById("output").textContent = ans;
    }
{% endblock %}

{% block redirection %}

document.getElementById("next-btn").addEventListener("click", () => {
    window.location.href = "{% url 'question' level=2 question=3 %}"; // Change this to the actual next page URL
});

{% endblock %}